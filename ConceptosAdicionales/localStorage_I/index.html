<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">

    $(document).ready(function(){

    $("#boton1").click(function(){
      var nombre = $("#nombre").val();
      var apellido = $("#apellido").val();
      var id = $("#id").val();

      var persona = {
        id : id,
        nombre : nombre,
        apellido : apellido
      };

      localStorage.setItem(id, JSON.stringify(persona));

      listarPersona();

      $("#nombre").val("");
      $("#apellido").val("");
      $("#id").val("");

    });

      function listarPersona (){
        var elemento = "Listar Personas <br>";
        var parrafo1 = $("#p1");

        for (var i = 0; i < localStorage.length; i++) {
          var clave = localStorage.key(i);
          var persona = $.parseJSON(localStorage.getItem(clave));

          elemento += persona.id + "-" + persona.nombre + "-" + persona.apellido + "<br>";
        }

        $(parrafo1).html(elemento);

      }
      listarPersona();
    });

    </script>
  </head>
  <body>

    <h1>Registro Persona</h1>
    <form>
      Id:
      <br>
      <input type="text" id="id">
      <br>Nombre:
      <br>
      <input type="text" id="nombre">
      <br>Apellidos
      <br>
      <input type="text" id="apellido">
    </form>

    <button id="boton1">Registrar</button>

    <p id="p1"></p>

  </body>
</html>
